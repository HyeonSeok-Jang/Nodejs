1. 노드 시작하기

java script를 이해: https://ko.javascript.info/

1.1 핵심 개념 이해하기
# NodeJS의 정의 
    크롬 V8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임
    Runtime - 실행 시간 environment?

    자바스크립트 실행환경 //툴이 아니라 그 툴마저 실행해야하는 실행환경
    자바로 비유하면 JVM, .NET프레임워크

우리가 쓰는 NodeJS는 Server를 개발.
1.1.1 서버
    서버: 네트워크를 통해 클라이언트에 정보나
    서비스를 제공하는 컴퓨터 또는 프로그램

    클라이언트: 사용자 PC, 모바일기기, IoT장비
    서버에 서비스를 요청하는 컴퓨터 도는 프로그램
    프로그램으로 치면 웹 브라우저

    Server: DB받아오고 처리해서 나오는게 html
    Client
    Request
    Response

1.1.2 자바스크립트 런타임: 자바스크립트 실행환경, 실행기
    libuv: 논블로킹 I/O, 이벤트 기반처리
    v8: 자바스크립트 엔진(해석기)

    # 노드의 특징
    이벤트 기반
    논 블로킹 I/O//동시작업
    Single Thread

1.1.3 이벤트 기반
    Event-driven

    1) Event: 클릭, 키보드입력, 화면 변화
    컴퓨터에서 발생되는 시스템의 변화
    Event - Event Listener
            Callback --> 자바 스크립트에선
            콜백함수로 구현
    * 이벤트 루프(Event Loop)

    * 호출 스택 (call stack)
    stack = LIFO (Last In First Out)//나중에 드간놈이 먼저 나감
    queue = FIFO (First In First Out)//먼저 드간놈이 먼저 나감

    * Global Context//전역변수
    함수 죽어도 살아남는다
    <->Local Context//지역변수
    함수 죽기 전까진 살아있다
    Context: 함수 실행시 사용가능한 환경 (메모리 정보, 변수)

    * setTimeout -> 콜백 시스템
    밀리초 이후에 등록한 함수(콜백함수)를 실행시킴

    - 이벤트 루프: 이벤트 발생시 호출 할 콜백함수들을 관리
    콜백 함수의 실행 순서를 결정
    - 백그라운드: 타이머, 이벤트 리스너가 대기
    여러 작업이 동시에 실행 될 수 있음
    - 태스크 큐: 이벤트 발생후, 백그라운드에서 태스크 큐로 타이머나
    이벤트 리스너를 전송, 큐의 순서대로 실행

    anonymous는 어쩌구 저쩌구

    1.1.4 논 블로킹 I/O

    * 논 블로킹: 비동기(non blocking: Asynchronous)
    * 블로킹: 동기(blocking: Synchronous)
    * 비동기
    * 동기
    
    * 컴퓨터에서 제일 많이 시간이 걸리는 장치? 시스템? 동작?
    I/O 작업
    I/O 작업이 가장 많이 걸린다.
    다른사람의 대기 하는 시간을 줄이기 위해? 작업시간? 처리시간을 줄이기 위해 논 블로킹이 생김

    블로킹 방식의 코드
    function longRunningTask(){
        //오래 걸리는 작업
        console.log("작업 끝");
    }
    console.log('시작');
    longRunningTask();
    console.log('다음시작);

    논 블로킹 방식의 코드
    function longRunningTask(){
        //오래 걸리는 작업
        console.log("작업 끝");
    }
    console.log('시작')
    setTimeout(Callback,0)
    console.log('다음시작);

    1.1.5 싱글 스레드
    * process vs thread
    * process는 실행 파일은 하드디스크에 있다. 하드디스크에 있는 실행되는 파일이 
    //컴퓨터 속도 빠르게, 메인 메모리, cpu 둘을 빠른놈으로 바꿈, 멀티 프로세싱
    실행 파일이 메인메모리에 올라갔다, 로딩된 실행파일
    프로세스, exe파일이 메인메모리에 올라가서 실행되고 있는 파일이
    프로세스 내에 하나의 작업을 스레드라고 한다.
    프로세스와 프로세스끼리는 메모리를 공유하지 않음

    node의 실행파일: node.exe
    node에서 사용자(프로그래머)가 사용할 수 있는 스레드는 하나

    node 12버전 이후에는 멀티스레드 가능하게 됨
    권하지 않음

    멀티스레드
        스레드풀: 풀어놓고 막 쓴다
        메인스레드
        워커스레드

    멀티스레드는 코딩이 어렵다
    멀티프로세싱은 코딩은 쉽지만 메모리공유가 어려움
    레딧

    1.2 서버로서의 노드
    서버: I/O많이 일어남, 효율적 방법 모색 필요
    노드 서버: 싱글스레드, 논블로킹 --> 장단점
    장점1: 싱글스레드이기 대문에 하나의 스레드 많은 I/O대응 (I/O의 횟수는 많고, 데이터량이 적음)
    주로 실시간 채팅, 주식 사이트, JSON 데이터 제공, API서버
    장점2:
    단점1:

    노드는 서버가 아니지만 서버를 구성 할 수 있는 모듈을 제공
    그렇기 때문에 많이 사용된다.
    웹 API서버 만들기

    이벤트 기반으로 비동기 논블로킹 사용, 싱글스레드이기 때문에 논블로킹 사용